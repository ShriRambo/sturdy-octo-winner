<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>One Coin To Rule Them All</title>
<meta name="generator" content="Org mode">
<meta name="description" content="A single coin can be used can be used to sample random numbers from any distribution. This blog explains how."
>
<meta name="keywords" content="coin toss, randomness, random number generator, rng,">
<link rel='stylesheet' href='./css/code.css' />
<link rel='stylesheet' href='./css/simple.css' />
<link rel='shortcut icon' href='./img/favicon.ico' type='image/x-icon' />
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css' integrity='sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=' crossorigin='anonymous'>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "left",
        displayIndent: "5em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "left",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<header id="top" class="status">
<a href="./index.html">shrirambo</a>.<a href="https://github.com/shrirambo">github</a>.<a href="">io</a>/<a href="./index.html">home</a>/<a href="./index.html">blog</a>
</header>
<main id="content">
<h1 class="title">One Coin To Rule Them All
<br>
<span class="subtitle">How We Can Sample Random Numbers From Any Distribution With a Bunch of Coin Toss and a Lot of Patient</span>
</h1>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<hr>


<p>
What  is a random number? Well, it's definitely not 17. According to MIT, 17 is actually the "least random" number<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>. In fact, in a study where participants were asked to choose a random number between 1 and 20, the most common answer was 17. So which number is random? Is it 0.5348? Or 5973? The number <b><span id='randint1'>0</span></b> looks quite random. But wait, it's not "a number". It is a sequence of numbers. A sequence without any pattern. Then I guess the lack of pattern in a squence of numbers makes them random.
</p>
<script type="text/javascript">
setInterval( function () {
    document.getElementById('randint1').innerText
	= Math.ceil(Math.random()*6)
    }, 100)
</script>

<p>
But how do we know if a sequence is truly random? Well, we need to look at a lot of numbers - like, a lot. In fact, we'd need an infinite number of them to really be sure. And to generate that many numbers, we need a process. That process, like rolling a die or flipping a coin, is what makes the numbers truly random.
</p>

<p>
For instance, think about the number 5. It's a nice number. Very friendly. If I told you that I got the number by counting the fingers of my left hand, you'd probably say it's not a random number. After all, the process is very deterministic - it will always result in 5. But if I told you that I got the number by rolling a die, then you'd consider that a random number. Rolling of a die üé≤ is a truly random process, because the sequence of numbers it generates doesn't follow any pattern. While counting fingers üñêüèΩ is not a random process, as there is a clear pattern here.
</p>

<p>
So, it is not the number that is random - it's the process that generated it. Like a roll of a die, toss of a coin, collapse of a wave function etc. And if we have access to such random processes, we can generate an infinite sequence of random numbers by measuring the outcome. And with the help of some mathematical magic wand, we can transform the sequence to follow any probability distribution. How cool is that? 
</p>

<p>
In case, if you are curious how the ever changing sequence is generated in the first paragraph, here's the secret:
</p>
<div class="org-src-container">
<pre class="src src-js" id="org0ea18cd">setInterval<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-keyword">function</span> <span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-rainbow-delimiters-depth-2">{</span>
    document.getElementById<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">'randint1'</span><span class="org-rainbow-delimiters-depth-3">)</span>.innerText
        = Math.ceil<span class="org-rainbow-delimiters-depth-3">(</span>Math.random<span class="org-rainbow-delimiters-depth-4">()</span>*6<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>, 100<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
The <code>Math.random</code> method of javascript generates a pseudo random number sequence, not a real one. But don't tell that to anyone üòâ In the following sections we'll see how we can use a coin toss as a random process to generate sequence from any probability distribution.
</p>
<section id="outline-container-org7204515" class="outline-2">
<h2 id="org7204515"><a href="#org7204515">ü™ô A Toss of a Coin</a></h2>
<div class="outline-text-2" id="text-org7204515">
<p>
A toss of a coin is actually not a random process. If we know the exact initial position of the coin and the exact amount, location, direction of force applied to it for the toss, we can determine the outcome. But for the sake of this post, let's say it is. Now, our goal is to formulate a process that, using a bunch of coin toss, will generate random numbers from a uniform distribution over \([0,1)\). But the former one has discrete outcomes and the later one is continuous distribution. Then how is it possible? Well, it is, with a catch.
</p>

<p>
Say we toss a coin 5 times and we get a sequence <b>HHTHH</b>. Let's assign a digit to each outcome by calling <b>H=1</b> and <b>T=0</b>. Then the sequence translates to <b>11011</b>, which looks like a number in binary. Now, let's just write this binary number as a fractional part by adding <b>0.</b> in front i.e. <b>0.11011</b>. Now, this looks like a binary fraction between zero and one. This binary fraction, after converting to decimal, becomes <b>0.84375</b>.
</p>

<p>
Now, as every sequence of 5 coin toss are equally likely, all the decimal fractions it can generate are equally likely. Kind of uniform distribution. I said kind of, because the number of outcomes with 5 coin toss is just \(2^5=32\) which is not much. But as the number of toss goes up, the final decimal fraction goes towards the real Uniform Distribution.
</p>

<p>
You can play around with different number of coin toss to see how increasing that number gets you closer to the uniform distribution.
</p>
<script type="text/javascript">
const flipN = n => Array.from(
    {length: n},
    () => Math.random() < 0.5 ? "H" : "T");
</script>

<span>
<label for="nr-flips"># Coins:</label>
<input type="number" id="nr-flips" name="nr-flips" min="1" max="2048" value=5>
<button onclick="flipCoins()">Flip Coins</button>
</span>

<script type="text/javascript">
function flipCoins(){
    let n = parseInt(
	document.getElementById('nr-flips').value)

    let seq = flipN(n)
    document.getElementById('toss-result')
	.children[1]
	.children[0]
	.children[1].innerText = seq.join('')

    let binseq = seq.map(function (i) { return i == 'H' ? 1 : 0 })
    document.getElementById('toss-result')
	.children[1]
	.children[1]
	.children[1].innerText = '0.'+binseq.join('')

    document.getElementById('toss-result')
	.children[1]
	.children[2]
	.children[1].innerText = binseq.reduce( (a, c, i) => c ? a + 1/(2**(i+1)) : a , 0 )

    document.getElementById('toss-result')
	.children[1]
	.children[3]
	.children[1].innerText = 1 / (2**n)

       document.getElementById('toss-result')
	.children[1]
	.children[4]
	.children[1].innerText = 2**(n)
}
</script>

<table id="toss-result">


<colgroup>
<col  class="org-left">

<col  class="org-right">
</colgroup>
<tbody>
<tr>
<td class="org-left">Sequence</td>
<td class="org-right">HHTHH</td>
</tr>

<tr>
<td class="org-left">Binary frac</td>
<td class="org-right">0.11011</td>
</tr>

<tr>
<td class="org-left">Decimal frac</td>
<td class="org-right">0.84375</td>
</tr>

<tr>
<td class="org-left">Step size</td>
<td class="org-right">0.03125</td>
</tr>

<tr>
<td class="org-left"># Outcomes</td>
<td class="org-right">32</td>
</tr>
</tbody>
</table>

<p>
In the above table, the step size is the smallest non-zero decimal fraction that can be generated with the given number of coin toss. The outcome decimal frac will always be an integral multiple of this step size. If we toss 10 coins, the number of outcomes goes to 1024 and the stepsize becomes less than 0.001. If this precision is not good enough for you then toss the coin 20 times, and we'll get the precision of 6 decimal digits. Every 10 extra coin toss will give us approximately 3 additional decimal digits of precision<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>. The question is how far are you willing to go? 
</p>

<p>
Let's try the experiment with 126 coin toss. That leads to the step size of approximately \(1.1754√ó10^{-38}\). This is a special number. This a the smallest non-zero single precision floating point number a machine can represent. If you are using a 32bit machine, which is probably not true, this is the best you can get. Compare this number to the Planck length which is around \(1.6162√ó10^{‚àí35} m\). So, with 126 coin toss, you can sample, from a length of 1m, a random segment of length that is even smaller than the Planck length. I think you can consider that small of a segment as a point for most of the practical purposes.
</p>

<p>
If you want higher precision, we can toss the coin 1023 times. That will give us the step size of \(1.1125√ó10^{-308}\), which is the smallest non-zero double precision floating point normal number. The extreme a computer can go is \(4.9407√ó10^{-324}\), the double precision floating point subnormal number<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>. This precision can be achieved with <b>1075</b> coin tosses. That is the best we can get.
</p>

<p>
We are already at the limit of what computers can do. But still, we cannot call this sampling-from-continuous-distribution. After all the number of outcomes, even though very large, are finite. With the tossing of coin \(n\) times, the number of possible outcomes is \(2^n\). When \(n\rightarrow\infty\), number of outcomes goes to infinity and the step size goes to zero. Then only we get to true continuous distribution. But the problem is, it will take infinite amounut of time to flip a coin infinite times. The process will never end.
</p>

<p>
This is the case with most of the random processes. The outcome cannot always be measured with infinite precision. With finite precision measurement, we are setteling for a discrete distribution and just calling it continuous.
</p>

<p>
In mathematical sense, we say tha the probability of getting exactly <b>0.84375</b> from a uniform distribution is zero but still we get that number. So does the probability being zero do not mean that the event cannot occure? No, probability zero precisely means that the event cannot occure. In this case, we got <b>0.84375</b> because we got lazy and stopped measuring the number beyond 5th decimal digit. The number <b>0.84375</b> in this sense is not same as <b>0.84375000000000&#x2026;</b> because we did not bother to check the zeros. It is the faulty process of sampling that leads to the outcomes which has probability zero. And it is always going to be the case because of our limitations.
</p>

<p>
I think this comes from the fact that we are trying to sample from a domain, whose dimensionality is higher than that of the sample we are expecting. For example we are sampling a zero dimentional point from a one dimentional line. Everytime this is the case, we will hit the limitation of our measuring ablities. That is what measure theory is about, I guess.
</p>

<p>
As none of the process to sample from uniform distribution can be of infinite precision, we can consider our coin toss process good enough. And with a uniformly distributed random number, we can sample from litrally any distribution. Let's see how. 
</p>
</div>
</section>

<section id="outline-container-org3562475" class="outline-2">
<h2 id="org3562475"><a href="#org3562475">Discrete Random Distribution</a></h2>
<div class="outline-text-2" id="text-org3562475">
<p>
Let's start simple. Let's use the coin toss to sample from a discrete distribution. I could not think of a good example and I also like colors, so consider that we have to sample from the following colors and probability: \(\mathbb{P}\) <span class='color-mark' style='background:#2eb2ff; color:#000000'>#2eb2ff</span> = 30/155, \(\mathbb{P}\) <span class='color-mark' style='background:#77e4ff; color:#000000'>#77e4ff</span> = 45/155, \(\mathbb{P}\) <span class='color-mark' style='background:#ff2eb2; color:#ffffff'>#ff2eb2</span> = 25/155, \(\mathbb{P}\) <span class='color-mark' style='background:#b2ff2e; color:#000000'>#b2ff2e</span> = 40/155, \(\mathbb{P}\) <span class='color-mark' style='background:#e8ff6a; color:#000000'>#e8ff6a</span> = 15/155.
</p>

<p>
To sample from this distrubitoin, we first order these colors in line segments such that the length of each color is porportional to it's probability. Then we generate a number, sampled from uniform distribution over \([0,1)\), as described in the previous section using a bunch of coin toss. Assuming the total length of all segments together is 1, then where ever the sampled number lands on this scale, the corresponding color is our outcome. Checkout the following animation:
</p>

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="164mm"
   height="24mm"
   viewBox="0 0 164 24"
   version="1.1"
   id="svg5"
   sodipodi:docname="discrete-sampling-events.svg"
   inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="4.3439848"
     inkscape:cx="139.04284"
     inkscape:cy="50.759846"
     inkscape:window-width="1920"
     inkscape:window-height="1021"
     inkscape:window-x="0"
     inkscape:window-y="30"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1"
     showguides="true"
     inkscape:guide-bbox="true"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     height="50.13361mm">
    <sodipodi:guide
       position="5.2916719,4.7084015"
       orientation="1,0"
       id="guide2977" />
    <sodipodi:guide
       position="160.29167,4.7084015"
       orientation="1,0"
       id="guide2979" />
    <sodipodi:guide
       position="35.291667,7.074723"
       orientation="1,0"
       id="guide914" />
    <sodipodi:guide
       position="80.291665,7.074723"
       orientation="1,0"
       id="guide916" />
    <sodipodi:guide
       position="105.29166,7.074723"
       orientation="1,0"
       id="guide918" />
    <sodipodi:guide
       position="145.29166,7.074723"
       orientation="1,0"
       id="guide1436" />
    <sodipodi:guide
       position="160.29167,54.708402"
       orientation="0,-1"
       id="guide1438" />
    <sodipodi:guide
       position="94.57501,5.435224"
       orientation="0,-1"
       id="guide1440" />
    <sodipodi:guide
       position="74.594545,-1.1519717"
       orientation="0,-1"
       id="guide992" />
    <sodipodi:guide
       position="22.223317,9.7874129"
       orientation="0,-1"
       id="guide37200" />
  </sodipodi:namedview>
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-40.245651,-151.828)">
    <g
       id="g4082"
       transform="translate(5.2916669,-34.925016)">
      <path
         style="fill:none;stroke:#2eb2ff;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 40.245652,199.46161 c 10,0 20,0 30,0"
         id="line01"
         inkscape:label="line01" />
      <path
         style="fill:none;stroke:#77e4ff;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 70.245984,199.46161 c 15.000002,0 30.000006,0 45.000006,0"
         id="line02"
         inkscape:label="line02" />
      <path
         style="fill:none;stroke:#ff2eb2;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 115.24565,199.46161 c 8.33333,0 16.66667,0 25,0"
         id="line03"
         inkscape:label="line03" />
      <path
         style="fill:none;stroke:#e8ff6a;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 180.24565,199.46161 c 5,0 10,0 15,0"
         id="line05"
         inkscape:label="line05" />
      <path
         style="fill:none;stroke:#b2ff2e;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 140.24565,199.46161 c 13.33333,0 26.66667,0 40,0"
         id="line04"
         inkscape:label="line04" />
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="45.537323"
       y="207.1196"
       id="text9742"><tspan
         sodipodi:role="line"
         id="tspan9740"
         style="stroke-width:0.264583"
         x="45.537323"
         y="207.1196" /></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7.05556px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="43.646011"
       y="173.87709"
       id="text8390"><tspan
         sodipodi:role="line"
         id="tspan8388"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7.05556px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke-width:0.264583"
         x="43.646011"
         y="173.87709">0</tspan></text>
    <g
       id="g50228"
       style="fill:#000000;fill-opacity:0.15752633">
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke:none;stroke-width:0.264583"
         x="54.061661"
         y="166.07817"
         id="text8390-9"><tspan
           sodipodi:role="line"
           id="tspan8388-1"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke-width:0.264583;font-size:2.82222222px"
           x="54.061661"
           y="166.07817">30/155</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke:none;stroke-width:0.264583"
         x="93.25795"
         y="165.89459"
         id="text8390-9-6"><tspan
           sodipodi:role="line"
           id="tspan8388-1-1"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke-width:0.264583"
           x="93.25795"
           y="165.89459">45/155</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke:none;stroke-width:0.264583"
         x="128.28616"
         y="165.93307"
         id="text8390-9-8"><tspan
           sodipodi:role="line"
           id="tspan8388-1-79"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke-width:0.264583"
           x="128.28616"
           y="165.93307">25/155</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke:none;stroke-width:0.264583"
         x="161.16325"
         y="165.93619"
         id="text8390-9-20"><tspan
           sodipodi:role="line"
           id="tspan8388-1-23"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke-width:0.264583"
           x="161.16325"
           y="165.93619">40/155</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke:none;stroke-width:0.264583"
         x="188.82986"
         y="165.98723"
         id="text8390-9-7"><tspan
           sodipodi:role="line"
           id="tspan8388-1-5"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#000000;fill-opacity:0.15752633;stroke-width:0.264583"
           x="188.82986"
           y="165.98723">15/155</tspan></text>
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7.05556px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="197.99911"
       y="174.65955"
       id="text8390-3"><tspan
         sodipodi:role="line"
         id="tspan8388-6"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7.05556px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke-width:0.264583"
         x="197.99911"
         y="174.65955">1</tspan></text>
    <g
       id="g30018">
      <path
         sodipodi:type="star"
         style="fill:#d1a0ff;fill-opacity:1;stroke:#c1c7a2;stroke-width:0.0264583;stroke-linecap:round"
         id="pointer1"
         inkscape:flatsided="true"
         sodipodi:sides="3"
         sodipodi:cx="37.287415"
         sodipodi:cy="-43.031521"
         sodipodi:r1="15.258932"
         sodipodi:r2="6.8731637"
         sodipodi:arg1="1.5707964"
         sodipodi:arg2="2.617994"
         inkscape:rounded="0"
         inkscape:randomized="0"
         d="m 37.287413,-27.772589 -13.214621,-22.888399 26.429246,2e-6 z"
         transform="matrix(0.26458333,0,0,0.26458333,35.671695,169.74094)"
         inkscape:transform-center-y="0.90926242"
         inkscape:label="pointer1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-weight:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;fill:#d8cab1;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="42.550087"
         y="155.73065"
         id="pointer-prob"
         inkscape:label="pointer-prob"><tspan
           sodipodi:role="line"
           id="tspan22807"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke-width:0.264583"
           x="42.550087"
           y="155.73065">0.0</tspan></text>
    </g>
  </g>
</svg>

<p>
The purple pointer points to the sampled color.
</p>

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="165mm"
   height="60mm"
   viewBox="0 0 165 60"
   version="1.1"
   id="svg5"
   sodipodi:docname="discrete-sampling-plot.svg"
   inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="1.0859962"
     inkscape:cx="383.05843"
     inkscape:cy="12.430983"
     inkscape:window-width="1920"
     inkscape:window-height="1021"
     inkscape:window-x="0"
     inkscape:window-y="30"
     inkscape:window-maximized="1"
     inkscape:current-layer="g4082"
     showguides="true"
     inkscape:guide-bbox="true"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     height="50.13361mm">
    <sodipodi:guide
       position="5.2916719,4.7084015"
       orientation="1,0"
       id="guide2977" />
    <sodipodi:guide
       position="160.29167,4.7084015"
       orientation="1,0"
       id="guide2979" />
    <sodipodi:guide
       position="35.291667,7.074723"
       orientation="1,0"
       id="guide914" />
    <sodipodi:guide
       position="80.291665,7.074723"
       orientation="1,0"
       id="guide916" />
    <sodipodi:guide
       position="105.29166,7.074723"
       orientation="1,0"
       id="guide918" />
    <sodipodi:guide
       position="145.29166,7.074723"
       orientation="1,0"
       id="guide1436" />
    <sodipodi:guide
       position="160.29167,54.708402"
       orientation="0,-1"
       id="guide1438" />
    <sodipodi:guide
       position="160.29167,4.7084016"
       orientation="0,-1"
       id="guide1440" />
  </sodipodi:namedview>
  <defs
     id="defs2">
    <linearGradient
       inkscape:collect="always"
       id="linearGradient2099">
      <stop
         style="stop-color:#ff4343;stop-opacity:1"
         offset="0"
         id="stop2095" />
      <stop
         style="stop-color:#fba84e;stop-opacity:1"
         offset="1"
         id="stop2097" />
    </linearGradient>
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient2099"
       id="linearGradient2101"
       x1="43.304775"
       y1="156.00945"
       x2="166.75252"
       y2="156.00945"
       gradientUnits="userSpaceOnUse"
       gradientTransform="matrix(1.0763136,0,0,1.0006744,9.4405336,27.10613)" />
  </defs>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-40.245651,-151.828)">
    <rect
       style="fill:url(#linearGradient2101);fill-opacity:1;stroke:none;stroke-width:5.18902;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="prob-rect"
       width="155"
       height="50"
       x="45.537323"
       y="157.1196"
       ry="4.6236091"
       inkscape:label="#prob-rect" />
    <g
       id="g4082-6"
       transform="translate(5.2916669,5.2916669)">
      <path
         style="fill:none;stroke:#7c9fb1;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 40.245652,199.46161 c 10,0 20,0 30,0"
         id="line1-7"
         inkscape:label="line1" />
      <path
         style="fill:none;stroke:#aac5cc;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 70.245984,199.46161 c 15.000002,0 30.000006,0 45.000006,0"
         id="line2-5"
         inkscape:label="line2" />
      <path
         style="fill:none;stroke:#b17c9d;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 115.24565,199.46161 c 8.33333,0 16.66667,0 25,0"
         id="line3-3"
         inkscape:label="line3" />
      <path
         style="fill:none;stroke:#c1c7a2;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 180.24565,199.46161 c 5,0 10,0 15,0"
         id="line5-5"
         inkscape:label="line5" />
      <path
         style="fill:none;stroke:#9db17c;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 140.24565,199.46161 c 13.33333,0 26.66667,0 40,0"
         id="line4-6"
         inkscape:label="line4" />
    </g>
    <g
       id="g4082"
       transform="translate(5.2916669,5.2916669)">
      <path
         style="fill:none;stroke:#2eb2ff;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 40.245652,199.46161 c 10,0 20,0 30,0"
         id="line1"
         inkscape:label="line1" />
      <path
         style="fill:none;stroke:#77e4ff;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 70.245984,199.46161 c 15.000002,0 30.000006,0 45.000006,0"
         id="line2"
         inkscape:label="line2" />
      <path
         style="fill:none;stroke:#ff2eb2;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 115.24565,199.46161 c 8.33333,0 16.66667,0 25,0"
         id="line3"
         inkscape:label="line3" />
      <path
         style="fill:none;stroke:#e8ff6a;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 180.24565,199.46161 c 5,0 10,0 15,0"
         id="line5"
         inkscape:label="line5" />
      <path
         style="fill:none;stroke:#b2ff2e;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 140.24565,199.46161 c 13.33333,0 26.66667,0 40,0"
         id="line4"
         inkscape:label="line4" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.35px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="117.27537"
         y="151.29877"
         id="rect-toss"
         inkscape:label="rect-toss"><tspan
           sodipodi:role="line"
           id="tspan2696"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.35px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Bold';fill:#d8cab1;fill-opacity:1;stroke-width:0.264583"
           x="117.27537"
           y="151.29877"> </tspan></text>
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="45.537323"
       y="207.1196"
       id="text9742"><tspan
         sodipodi:role="line"
         id="tspan9740"
         style="stroke-width:0.264583" /></text>
  </g>
</svg>

<script type="text/javascript">
var width = gsap.getProperty('#prob-rect', 'width')
var x = gsap.getProperty('#prob-rect', 'x')
var resetState = {duration:1, width:width, x:x, ease:"elastic.out(1, 0.3)"}
var isDone = false
var pointerX0 = gsap.getProperty("#pointer1", 'x')
var colors = ["#2eb2ff", "#77e4ff", "#ff2eb2", "#b2ff2e", "#e8ff6a"]

function delay(time) {
  return new Promise(resolve => setTimeout(resolve, time));
}

// Pointer move
setInterval(()=> {
    let r = Math.random()
    gsap.to("#pointer-prob", {textContent: r})
    gsap.to("#pointer1",
	    {x:  pointerX0 + resetState.width*r,
	     ease: "elastic.out(1, 0.3)"}
	   )
    }
	    , 1000)

//Prob lines
const cumsum = (sum => value => sum += value)(0);
var prob = [0, 30, 45, 25, 40, 15]
var cumprob = prob.map(cumsum)

function foldRect(i){
    if ((width < 3) || isDone) return false
    width =  width*0.5
    i && (x = x + width)
    gsap.to("#prob-rect", {duration:1, width: width, x:x,  ease: "elastic.out(1, 0.3)"})
    hideLines()
    return true
}

function resetRect(){
    gsap.to("#prob-rect", resetState)
    width = resetState.width
    x = resetState.x
    hideLines()
    isDone = false
}

function hideLines(){
    n = 0
    for (let i = 1; i < 6; i++){
	if( (cumprob[i-1] > x+width) || (cumprob[i] < x)) {
	    gsap.to('#line'+i, {opacity:0})
	    n++
	}
	else{
	 gsap.to('#line'+i, {opacity:100})
	}
    }
    if(n==4) isDone=true
}

async function sampleColor(){
    let flag = true
    let seq = ''
    while (flag) {
	gsap.to("#colorseq", {textContent: seq})
	let samp = flipN(1)
	let i = samp == 'H' ? 1 : 0
	flag = foldRect(i)
	seq = seq + samp
	await delay(1000)
	
    }
    
}
</script>

<p>
<button onclick="sampleColor()">Sample</button> <button onclick="resetRect()">Reset</button> &nbsp; &nbsp;  Sampled sequence: <span id='colorseq'></span>
</p>
</div>
</section>


<section id="outline-container-orge8a1d6a" class="outline-2">
<h2 id="orge8a1d6a"><a href="#orge8a1d6a">Continuous Random Process</a></h2>
</section>

<section id="outline-container-org3cb166d" class="outline-2">
<h2 id="org3cb166d"><a href="#org3cb166d">Multidimentional Distribution</a></h2>
</section>

<section id="outline-container-orgff0a776" class="outline-2">
<h2 id="orgff0a776"><a href="#orgff0a776">Food for thought</a></h2>
</section>

<section id="outline-container-org55e9a3d" class="outline-2">
<h2 id="org55e9a3d"><a href="#org55e9a3d">Conclusions</a></h2>
</section>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
<a href="https://en.wikipedia.org/wiki/17_(number)#:~:text=Seventeen%20is:,was%20the%20most%20common%20choice.">Wikipedia page on the number 17</a> 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
Has to do something with \(\log^{10}_{2}=3.32\) 
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
<a href="https://en.wikipedia.org/wiki/Subnormal_number">Subnormal number</a>
</p></div></div>


</div>
</div></main>
<footer id="postamble" class="status">
<hr>
<section>
<script src="https://giscus.app/client.js" 
  data-repo="ShriRambo/giscus-comments"
  data-repo-id="R_kgDOG1mtrQ"
  data-category="Announcements" 
  data-category-id="DIC_kwDOG1mtrc4CBJNW" 
  data-mapping="title" 
  data-reactions-enabled="1" 
  data-emit-metadata="0" 
  data-input-position="top" 
  data-theme="dark" 
  data-lang="en" 
  crossorigin="anonymous" 
  async> </script>
</section>
<hr>
<section>
  <p style="text-align:center">
Made with ‚ù§Ô∏è and Emacs (Org-mode)
</p>
<div align=center>
  <a href="#" class='link-icon'>
    <i class="fa fa-home fa-lg" aria-hidden="true"></i>
  </a>
  <a href="https://www.instagram.com/shrirambo/" class='link-icon'>
    <i class="fa fa-instagram fa-lg" aria-hidden="true"></i>
  </a>
  <a href="https://github.com/shrirambo" class='link-icon'>
    <i class="fa fa-github fa-lg" aria-hidden="true"></i>
  </a>
  <a href='https://www.linkedin.com/in/shriram-ashirgade/' class='link-icon'>
    <i class="fa fa-linkedin-square fa-lg" aria-hidden="true"></i>
  </a>
  <a href='https://social.vivaldi.net/@shrirambo'>
    <i class="fa fa-mastodon fa-lg" aria-hidden="true"></i>
  </a>
  <a href='https://github.com/ShriRambo/sturdy-octo-winner/tree/master/content' class='link-icon'>
    <i class="fa fa-code  fa-lg" aria-hidden="true"></i>
  </a>
  <a href='#content' class='link-icon'>
    <i class="fa fa-hand-o-up  fa-lg" aria-hidden="true"></i>
  </a>
</div>
</div>
</footer>
</body>
</html>
